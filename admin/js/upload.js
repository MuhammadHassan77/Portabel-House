$(document).ready(function () {

    $(document).on("click", ".navigator", function (e) {
        e.preventDefault();
        // console.log($(this).attr("href"))
        $(".tab").hide();
        $($(this).attr("href")).show();
        $(".navigator").parent().removeClass("mm-active");
        $(this).parent().addClass("mm-active");
    })

    $(document).on("click", ".addColor", function () {
        $(this).parent().find("select").addClass("d-none");
        $(this).parent().find("select").val("");
        $(this).parent().find("input").removeClass("d-none");
    })

    $(document).on("click", ".slctColor", function () {
        $(this).parent().find("input").addClass("d-none");
        $(this).parent().find("input").val("");
        $(this).parent().find("select").removeClass("d-none");
    })

    // UPLOAD COMPONENTS HANDLING

    // uploadBezel function
    $(document).on("submit", "#roofForm", function (e) {
        e.preventDefault();
        if ($(this).find('.TextureName').val().trim() == '') {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Name Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureType']").val() == "") {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Type Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='texturePrice']").val().trim() == "") {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Price Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureImg']").val() == "") {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Image Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else {
            $.ajax({
                type: "POST",
                url: "./admin_func.php?act=addRoofTexture",
                data: new FormData(document.getElementById("roofForm")),
                cache: false,
                contentType: false,
                processData: false,
                success: function (res) {
                    res = JSON.parse(res);
                    // console.log(res)
                    if (res['result'] == "Uploaded" && res['status'] == "200") {
                        $('.TextureName').val("");
                        $('.TexturePrice').val("");
                        $('.TextureImg').val("");
                        $("#RoofNotify").html(`
                        <div class="alert alert-success alert-dismissible fade show">
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>	
                            <strong>Texture Added Successfully!</strong>
                            <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                            </button>
                        </div>
                        `);
                    }
                },
                error: err => console.log(err)
            });
        }
    });

    // uploadWall function
    $(document).on("submit", "#wallForm", function (e) {
        e.preventDefault();
        if ($(this).find('.TextureName').val().trim() == '') {
            $("#WallNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Name Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureType']").val() == "") {
            $("#WallNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Type Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='texturePrice']").val().trim() == "") {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Price Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureImg']").val() == "") {
            $("#WallNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Image Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else {
            $.ajax({
                type: "POST",
                url: "./admin_func.php?act=addWallTexture",
                data: new FormData(document.getElementById("wallForm")),
                cache: false,
                contentType: false,
                processData: false,
                success: function (res) {
                    res = JSON.parse(res);
                    // console.log(res)
                    if (res['result'] == "Uploaded" && res['status'] == "200") {
                        $('.TextureName').val("");
                        $('.TextureImg').val("");
                        $('.TexturePrice').val("");
                        $("#WallNotify").html(`
                        <div class="alert alert-success alert-dismissible fade show">
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>	
                            <strong>Texture Added Successfully!</strong>
                            <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                            </button>
                        </div>
                        `);
                    }
                },
                error: err => console.log(err)
            });
        }
    });


    // uploadFloor function
    $(document).on("submit", "#floorForm", function (e) {
        e.preventDefault();
        if ($(this).find('.TextureName').val().trim() == '') {
            $("#FloorNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Name Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureType']").val() == "") {
            $("#FloorNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Type Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='texturePrice']").val().trim() == "") {
            $("#RoofNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Price Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else if ($(this).find("input[name='textureImg']").val() == "") {
            $("#FloorNotify").html(`
                <div class="alert alert-danger alert-dismissible fade show">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>	
                    <strong>Texture Image Required!</strong>
                    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                    </button>
                </div>
            `);
        } else {
            $.ajax({
                type: "POST",
                url: "./admin_func.php?act=addFloorTexture",
                data: new FormData(document.getElementById("floorForm")),
                cache: false,
                contentType: false,
                processData: false,
                success: function (res) {
                    res = JSON.parse(res);
                    // console.log(res)
                    if (res['result'] == "Uploaded" && res['status'] == "200") {
                        $('.TextureName').val("");
                        $('.TextureImg').val("");
                        $('.TexturePrice').val("");
                        $("#FloorNotify").html(`
                        <div class="alert alert-success alert-dismissible fade show">
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>	
                            <strong>Texture Added Successfully!</strong>
                            <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close"><span><i class="mdi mdi-close"></i></span>
                            </button>
                        </div>
                        `);
                    }
                },
                error: err => console.log(err)
            });
        }
    });


})